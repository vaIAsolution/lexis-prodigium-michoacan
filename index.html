<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEXIS PRODIGIUM - IA Estratégica para Abogados de Élite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Lora:wght@400;700&family=Montserrat:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --brand-blue: #00bcd4;
            --brand-blue-dark: #0097a7;
            --brand-gray-light: #f8f9fa;
            --brand-gray: #343a40;
            --brand-gray-dark: #212529;
            --brand-gray-darker: #1a1d20;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Lato', sans-serif;
            background-color: var(--brand-gray-light);
            color: var(--brand-gray);
            overflow-x: hidden;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', sans-serif;
        }
        
        .serif-font {
            font-family: 'Lora', serif;
        }
        
        .sidebar {
            background-color: var(--brand-gray-darker);
            transition: all 0.3s ease;
        }
        
        .sidebar-item {
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }
        
        .sidebar-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .sidebar-item.active {
            background-color: rgba(0, 188, 212, 0.2);
            border-left-color: var(--brand-blue);
        }
        
        .brand-gradient {
            background: linear-gradient(135deg, var(--brand-blue) 0%, #0097a7 100%);
        }
        
        .demo-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }
        
        .demo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
        }
        
        .btn-primary {
            background-color: var(--brand-blue);
            color: white;
            font-weight: 600;
            padding: 12px 24px;
            border-radius: 8px;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
        }
        
        .btn-primary:hover {
            background-color: var(--brand-blue-dark);
            transform: translateY(-2px);
        }
        
        .result-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
            max-width: 900px;
            margin: 0 auto;
        }
        
        .spinner {
            border: 4px solid rgba(0, 188, 212, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--brand-blue);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #10b981;
            color: white;
            padding: 16px 24px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .feature-icon {
            font-size: 2.5rem;
            color: var(--brand-blue);
            margin-bottom: 1rem;
        }
        
        .input-field {
            width: 100%;
            padding: 14px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-family: 'Lato', sans-serif;
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--brand-blue);
            box-shadow: 0 0 0 3px rgba(0, 188, 212, 0.2);
        }
        
        .demo-badge {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            font-weight: 600;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            display: inline-block;
        }
        
        .hero-section {
            background: linear-gradient(135deg, rgba(0, 188, 212, 0.9) 0%, rgba(0, 151, 167, 0.9) 100%), url('https://images.unsplash.com/photo-1589829085413-56b8ae6e8b49?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 80px 0;
            text-align: center;
        }
        
        .stats-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        
        .stats-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .stats-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--brand-blue);
            margin-bottom: 8px;
        }
        
        .contact-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            transition: all 0.3s ease;
        }
        
        .contact-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .contact-icon {
            font-size: 2rem;
            color: var(--brand-blue);
            margin-bottom: 12px;
        }
        
        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                left: 0;
                top: 0;
                height: 100vh;
                z-index: 100;
                transform: translateX(-100%);
            }
            
            .sidebar.open {
                transform: translateX(0);
            }
            
            .overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
                z-index: 99;
                display: none;
            }
            
            .overlay.show {
                display: block;
            }
        }
    </style>
</head>
<body>
    <!-- Overlay for mobile sidebar -->
    <div class="overlay" id="overlay"></div>
    
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container mx-auto px-4">
            <h1 class="text-4xl md:text-5xl font-bold mb-4 serif-font">LEXIS PRODIGIUM</h1>
            <p class="text-xl mb-8 max-w-2xl mx-auto">IA Estratégica para Abogados de Élite en Michoacán</p>
            <div class="demo-badge mb-8">DEMO EXCLUSIVA</div>
            <button id="start-demo-btn" class="btn-primary text-lg px-8 py-3">
                Comenzar Demo <i class="fas fa-arrow-right ml-2"></i>
            </button>
        </div>
    </section>
    
    <!-- Stats Section -->
    <section class="py-12 bg-white">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <div class="stats-card">
                    <div class="stats-number">85%</div>
                    <div class="text-gray-600">Reducción de tiempo en análisis</div>
                </div>
                <div class="stats-card">
                    <div class="stats-number">99.7%</div>
                    <div class="text-gray-600">Precisión en detección de riesgos</div>
                </div>
                <div class="stats-card">
                    <div class="stats-number">24/7</div>
                    <div class="text-gray-600">Asistencia legal continua</div>
                </div>
                <div class="stats-card">
                    <div class="stats-number">3X</div>
                    <div class="text-gray-600">Aumento de eficiencia en litigios</div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Main App -->
    <div class="flex flex-col md:flex-row min-h-screen">
        <!-- Sidebar -->
        <aside id="sidebar" class="sidebar w-full md:w-64 text-white p-6 space-y-8">
            <div class="text-center pb-4 border-b border-gray-700">
                <h1 class="text-3xl font-bold text-brand-blue-500 serif-font">LEXIS PRODIGIUM</h1>
                <p class="text-xs text-gray-400 mt-1">IA Estratégica para Abogados de Élite</p>
            </div>
            
            <nav class="space-y-2">
                <a href="#" data-demo="contratos" class="sidebar-item active flex items-center px-4 py-3 rounded-md">
                    <i class="fas fa-file-contract w-5 mr-3"></i>
                    <span>Análisis de Contratos</span>
                </a>
                <a href="#" data-demo="strategy" class="sidebar-item flex items-center px-4 py-3 rounded-md">
                    <i class="fas fa-chess w-5 mr-3"></i>
                    <span>Análisis de Estrategia</span>
                </a>
                <a href="#" data-demo="document" class="sidebar-item flex items-center px-4 py-3 rounded-md">
                    <i class="fas fa-file-alt w-5 mr-3"></i>
                    <span>Generador de Escritos</span>
                </a>
                <a href="#" data-demo="perfiles" class="sidebar-item flex items-center px-4 py-3 rounded-md">
                    <i class="fas fa-user-secret w-5 mr-3"></i>
                    <span>Generador de Perfiles</span>
                </a>
            </nav>
            
            <div class="mt-auto pt-6 border-t border-gray-700">
                <div class="flex items-center">
                    <div class="w-10 h-10 rounded-full bg-brand-blue-500 flex items-center justify-center mr-3">
                        <i class="fas fa-user"></i>
                    </div>
                    <div>
                        <p class="text-sm font-medium">Demo Exclusiva</p>
                        <p class="text-xs text-gray-400">Versión de Evaluación</p>
                    </div>
                </div>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="flex-1 p-4 md:p-8">
            <div class="flex justify-between items-center mb-8">
                <button id="menu-btn" class="md:hidden text-brand-gray">
                    <i class="fas fa-bars text-xl"></i>
                </button>
                <div class="demo-badge">
                    <i class="fas fa-star mr-1"></i> DEMO EXCLUSIVA
                </div>
            </div>
            
            <!-- Result Container -->
            <div id="result-container" class="result-container p-8 mb-8 hidden">
                <div id="spinner" class="flex justify-center items-center py-12">
                    <div class="spinner"></div>
                    <span class="ml-4 text-lg font-semibold">Analizando...</span>
                </div>
                
                <div id="error-message" class="hidden bg-red-50 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded">
                    <div class="flex items-start">
                        <i class="fas fa-exclamation-circle text-red-500 mt-1 mr-3"></i>
                        <div>
                            <p class="font-bold">Ocurrió un error</p>
                            <p id="error-text" class="text-sm"></p>
                        </div>
                    </div>
                </div>
                
                <div id="result-content" class="prose max-w-none hidden"></div>
                
                <div id="result-actions" class="hidden mt-8 flex flex-wrap gap-3 justify-end">
                    <button id="copy-button" class="flex items-center px-4 py-2 bg-gray-200 text-gray-800 font-medium rounded-lg hover:bg-gray-300 transition">
                        <i class="fas fa-copy mr-2"></i> Copiar
                    </button>
                    <button id="download-button" class="flex items-center px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition">
                        <i class="fas fa-download mr-2"></i> Descargar
                    </button>
                    <button id="google-search-button" class="flex items-center px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition">
                        <i class="fas fa-search mr-2"></i> Buscar en Google
                    </button>
                </div>
                
                <div id="time-saving-message" class="hidden mt-6 p-4 bg-blue-50 border-l-4 border-brand-blue text-brand-blue rounded-lg">
                    <div class="flex items-start">
                        <i class="fas fa-clock text-brand-blue mt-1 mr-3"></i>
                        <div>
                            <p class="font-bold">¡Tiempo de Abogado Ahorrado!</p>
                            <p>Este análisis, que normalmente tomaría <span id="human-time" class="font-semibold"></span> de investigación, fue generado por LEXIS PRODIGIUM en <span id="ai-time" class="font-semibold"></span>.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Demos -->
            <section id="demo-contratos" class="demo-section fade-in">
                <div class="demo-card p-8">
                    <div class="flex items-center mb-6">
                        <i class="fas fa-file-contract feature-icon"></i>
                        <div>
                            <h2 class="text-3xl font-bold mb-1 serif-font">Análisis de Contratos</h2>
                            <p class="text-gray-600">Blindaje Legal Inteligente</p>
                        </div>
                    </div>
                    
                    <p class="text-gray-700 mb-6">Eleve la seguridad jurídica de sus acuerdos. Pegue el texto de un contrato o cláusula clave y LEXIS PRODIGIUM lo analizará en segundos, identificando riesgos ocultos, ambigüedades y omisiones bajo la legislación de Michoacán.</p>
                    
                    <div class="mb-6">
                        <label class="block text-gray-700 font-medium mb-2">Texto del contrato</label>
                        <textarea id="contratos-context" rows="8" class="input-field" placeholder="Ej: 'Contrato de aparcería agrícola para la producción y exportación de aguacate...' o 'Contrato de compraventa internacional de berries conforme a Incoterms...' (pegue aquí el texto del contrato a analizar)..."></textarea>
                    </div>
                    
                    <button id="run-contratos" class="btn-primary w-full">
                        <i class="fas fa-search mr-2"></i> Analizar Contrato
                    </button>
                    
                    <div class="mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 rounded">
                        <div class="flex items-start">
                            <i class="fas fa-info-circle text-yellow-500 mt-1 mr-3"></i>
                            <div>
                                <p class="font-bold">Versión DEMO:</p>
                                <p class="text-sm">Funcionalidad completa en la versión premium. Por favor, pegue el texto directamente. La carga de documentos estará disponible en la versión completa.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="demo-strategy" class="demo-section hidden">
                <div class="demo-card p-8">
                    <div class="flex items-center mb-6">
                        <i class="fas fa-chess feature-icon"></i>
                        <div>
                            <h2 class="text-3xl font-bold mb-1 serif-font">Análisis de Estrategia</h2>
                            <p class="text-gray-600">La Brújula de su Litigio</p>
                        </div>
                    </div>
                    
                    <p class="text-gray-700 mb-6">Transforme su enfoque litigioso. Pegue el resumen de los hechos de su caso y LEXIS PRODIGIUM, en segundos, le entregará un análisis FODA estratégico, identificando fortalezas procesales, oportunidades de argumentación, debilidades a mitigar y amenazas a anticipar.</p>
                    
                    <div class="mb-6">
                        <label class="block text-gray-700 font-medium mb-2">Resumen del caso</label>
                        <textarea id="strategy-context" rows="8" class="input-field" placeholder="Ej: 'Productor de aguacate en Uruapan enfrenta disputa por derechos de agua con ejido colindante...' o 'Empresa exportadora de Lázaro Cárdenas sufre el embargo de un contenedor en aduana...' (pegue aquí el resumen de los hechos del caso)..."></textarea>
                    </div>
                    
                    <button id="run-strategy" class="btn-primary w-full">
                        <i class="fas fa-chess-knight mr-2"></i> Analizar Estrategia
                    </button>
                    
                    <div class="mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 rounded">
                        <div class="flex items-start">
                            <i class="fas fa-info-circle text-yellow-500 mt-1 mr-3"></i>
                            <div>
                                <p class="font-bold">Versión DEMO:</p>
                                <p class="text-sm">Funcionalidad completa en la versión premium. Por favor, pegue el texto directamente. La carga de documentos estará disponible en la versión completa.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="demo-document" class="demo-section hidden">
                <div class="demo-card p-8">
                    <div class="flex items-center mb-6">
                        <i class="fas fa-file-alt feature-icon"></i>
                        <div>
                            <h2 class="text-3xl font-bold mb-1 serif-font">Generador de Escritos</h2>
                            <p class="text-gray-600">Redacción Legal Optimizada</p>
                        </div>
                    </div>
                    
                    <p class="text-gray-700 mb-6">Agilice su redacción legal. Describa el tipo de documento que necesita (procesal o general) y proporcione los detalles esenciales. LEXIS PRODIGIUM generará un borrador profesional, estructurado y listo para ser adaptado a sus necesidades específicas.</p>
                    
                    <div class="mb-4">
                        <label class="block text-gray-700 font-medium mb-2">Tipo de documento</label>
                        <input type="text" id="document-query" class="input-field" placeholder="Ej: 'Amparo indirecto contra laudo agrario en Michoacán' o 'Escrito de contestación a demanda mercantil por incumplimiento de contrato de suministro...'">
                    </div>
                    
                    <div class="mb-6">
                        <label class="block text-gray-700 font-medium mb-2">Detalles del caso</label>
                        <textarea id="document-context" rows="6" class="input-field" placeholder="Incluya nombres de las partes, fechas, hechos principales, juzgado, expediente y cualquier otra información relevante..."></textarea>
                    </div>
                    
                    <button id="run-document" class="btn-primary w-full">
                        <i class="fas fa-file-signature mr-2"></i> Generar Documento
                    </button>
                    
                    <div class="mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 rounded">
                        <div class="flex items-start">
                            <i class="fas fa-info-circle text-yellow-500 mt-1 mr-3"></i>
                            <div>
                                <p class="font-bold">Versión DEMO:</p>
                                <p class="text-sm">Funcionalidad completa en la versión premium. Por favor, pegue el texto directamente. La carga de documentos estará disponible en la versión completa.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="demo-perfiles" class="demo-section hidden">
                <div class="demo-card p-8">
                    <div class="flex items-center mb-6">
                        <i class="fas fa-user-secret feature-icon"></i>
                        <div>
                            <h2 class="text-3xl font-bold mb-1 serif-font">Generador de Perfiles</h2>
                            <p class="text-gray-600">Inteligencia Estratégica de Actores Legales</p>
                        </div>
                    </div>
                    
                    <p class="text-gray-700 mb-6">Obtenga una ventaja estratégica. Pegue textos (ej. extractos de sentencias, escritos, transcripciones de audiencias) de un abogado o juez y LEXIS PRODIGIUM analizará su estilo, argumentos recurrentes, patrones de decisión y posibles sesgos.</p>
                    
                    <div class="mb-6">
                        <label class="block text-gray-700 font-medium mb-2">Texto para análisis</label>
                        <textarea id="perfiles-context" rows="8" class="input-field" placeholder="Pega aquí el texto a analizar para generar el perfil (ej. extractos de sentencias, escritos, transcripciones)..."></textarea>
                    </div>
                    
                    <button id="run-perfiles" class="btn-primary w-full">
                        <i class="fas fa-user-cog mr-2"></i> Generar Perfil
                    </button>
                    
                    <div class="mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 rounded">
                        <div class="flex items-start">
                            <i class="fas fa-info-circle text-yellow-500 mt-1 mr-3"></i>
                            <div>
                                <p class="font-bold">Versión DEMO:</p>
                                <p class="text-sm">Funcionalidad completa en la versión premium. Por favor, pegue el texto directamente. La carga de documentos estará disponible en la versión completa.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <!-- Toast Notification -->
    <div id="toast-notification" class="toast">
        <i class="fas fa-check-circle mr-2"></i>
        <span>Texto copiado al portapapeles</span>
    </div>
    
    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-10">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4 serif-font">LEXIS PRODIGIUM</h3>
                    <p class="text-gray-400">IA Estratégica para Abogados de Élite en Michoacán</p>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Características</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white transition">Análisis de Contratos</a></li>
                        <li><a href="#" class="hover:text-white transition">Análisis de Estrategia</a></li>
                        <li><a href="#" class="hover:text-white transition">Generador de Escritos</a></li>
                        <li><a href="#" class="hover:text-white transition">Generador de Perfiles</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Recursos</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white transition">Documentación</a></li>
                        <li><a href="#" class="hover:text-white transition">Tutoriales</a></li>
                        <li><a href="#" class="hover:text-white transition">Casos de Éxito</a></li>
                        <li><a href="#" class="hover:text-white transition">Blog</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Contacto</h4>
                    <ul class="space-y-3 text-gray-400">
                        <li class="flex items-start">
                            <i class="fas fa-envelope mt-1 mr-3 text-brand-blue"></i>
                            <div>
                                <span class="block">Email</span>
                                <a href="mailto:vaiasolutionmx@gmail.com" class="hover:text-white transition">vaiasolutionmx@gmail.com</a>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-phone mt-1 mr-3 text-brand-blue"></i>
                            <div>
                                <span class="block">Celular</span>
                                <a href="tel:523327932894" class="hover:text-white transition">+52 3327932894</a>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-map-marker-alt mt-1 mr-3 text-brand-blue"></i>
                            <div>
                                <span class="block">Ubicación</span>
                                <span>Guadalajara, Jalisco</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-400">
                <p>&copy; 2023 LEXIS PRODIGIUM. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Elements
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            const menuBtn = document.getElementById('menu-btn');
            const startDemoBtn = document.getElementById('start-demo-btn');
            const navItems = document.querySelectorAll('.sidebar-item');
            const demoSections = document.querySelectorAll('.demo-section');
            const resultContainer = document.getElementById('result-container');
            const spinner = document.getElementById('spinner');
            const resultContent = document.getElementById('result-content');
            const errorMessage = document.getElementById('error-message');
            const resultActions = document.getElementById('result-actions');
            const timeSavingMessage = document.getElementById('time-saving-message');
            const toast = document.getElementById('toast-notification');
            
            // Mobile menu toggle
            menuBtn.addEventListener('click', () => {
                sidebar.classList.toggle('open');
                overlay.classList.toggle('show');
            });
            
            overlay.addEventListener('click', () => {
                sidebar.classList.remove('open');
                overlay.classList.remove('show');
            });
            
            // Start demo button
            startDemoBtn.addEventListener('click', () => {
                document.querySelector('.hero-section').scrollIntoView({ behavior: 'smooth' });
            });
            
            // Navigation
            navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    const demoId = item.getAttribute('data-demo');
                    
                    // Update active nav item
                    navItems.forEach(nav => nav.classList.remove('active'));
                    item.classList.add('active');
                    
                    // Show corresponding demo section
                    demoSections.forEach(section => {
                        section.classList.add('hidden');
                        section.classList.remove('fade-in');
                    });
                    
                    const activeSection = document.getElementById(`demo-${demoId}`);
                    activeSection.classList.remove('hidden');
                    setTimeout(() => activeSection.classList.add('fade-in'), 10);
                    
                    // Hide results
                    resultContainer.classList.add('hidden');
                    
                    // Close mobile menu
                    sidebar.classList.remove('open');
                    overlay.classList.remove('show');
                });
            });
            
            // Demo buttons
            document.getElementById('run-contratos').addEventListener('click', () => {
                const context = document.getElementById('contratos-context').value;
                if (context.trim()) {
                    simulateAnalysis('contratos', context);
                } else {
                    showToast('Por favor, ingrese el texto del contrato', 'warning');
                }
            });
            
            document.getElementById('run-strategy').addEventListener('click', () => {
                const context = document.getElementById('strategy-context').value;
                if (context.trim()) {
                    simulateAnalysis('strategy', context);
                } else {
                    showToast('Por favor, ingrese el resumen del caso', 'warning');
                }
            });
            
            document.getElementById('run-document').addEventListener('click', () => {
                const query = document.getElementById('document-query').value;
                const context = document.getElementById('document-context').value;
                if (query.trim() && context.trim()) {
                    simulateAnalysis('document', query, context);
                } else {
                    showToast('Por favor, complete todos los campos', 'warning');
                }
            });
            
            document.getElementById('run-perfiles').addEventListener('click', () => {
                const context = document.getElementById('perfiles-context').value;
                if (context.trim()) {
                    simulateAnalysis('perfiles', context);
                } else {
                    showToast('Por favor, ingrese el texto para análisis', 'warning');
                }
            });
            
            // Result actions
            document.getElementById('copy-button').addEventListener('click', () => {
                const textToCopy = resultContent.innerText;
                navigator.clipboard.writeText(textToCopy).then(() => {
                    showToast('Texto copiado al portapapeles', 'success');
                }).catch(err => {
                    console.error('Error al copiar el texto: ', err);
                    showToast('Error al copiar el texto', 'error');
                });
            });
            
            document.getElementById('download-button').addEventListener('click', () => {
                const textToDownload = resultContent.innerText;
                const blob = new Blob([textToDownload], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'resultado-lexis-prodigium.txt';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                showToast('Descarga iniciada', 'success');
            });
            
            document.getElementById('google-search-button').addEventListener('click', () => {
                const selection = window.getSelection().toString().trim();
                const textToSearch = selection || resultContent.innerText;
                if (textToSearch) {
                    window.open(`https://www.google.com/search?q=${encodeURIComponent(textToSearch)}`, '_blank');
                }
            });
            
            // Simulate analysis function
            function simulateAnalysis(type, query, context = '') {
                // Show spinner
                resultContainer.classList.remove('hidden');
                spinner.classList.remove('hidden');
                resultContent.classList.add('hidden');
                errorMessage.classList.add('hidden');
                resultActions.classList.add('hidden');
                timeSavingMessage.classList.add('hidden');
                
                // Scroll to results
                resultContainer.scrollIntoView({ behavior: 'smooth' });
                
                // Simulate API call delay
                setTimeout(() => {
                    spinner.classList.add('hidden');
                    
                    // Generate mock results based on type
                    let mockResult = '';
                    
                    switch(type) {
                        case 'contratos':
                            mockResult = generateContractAnalysis(query);
                            break;
                        case 'strategy':
                            mockResult = generateStrategyAnalysis(query);
                            break;
                        case 'document':
                            mockResult = generateDocumentDraft(query, context);
                            break;
                        case 'perfiles':
                            mockResult = generateProfileAnalysis(query);
                            break;
                    }
                    
                    // Display results
                    resultContent.innerHTML = mockResult;
                    resultContent.classList.remove('hidden');
                    resultActions.classList.remove('hidden');
                    
                    // Show time saving message
                    document.getElementById('human-time').textContent = ['varias horas', 'un día completo', 'varios días'][Math.floor(Math.random() * 3)];
                    document.getElementById('ai-time').textContent = ['segundos', 'menos de un minuto'][Math.floor(Math.random() * 2)];
                    timeSavingMessage.classList.remove('hidden');
                    
                    // Add fade-in animation
                    resultContent.classList.add('fade-in');
                }, 2000);
            }
            
            // Mock result generators - VERSIONES MEJORADAS
            function generateContractAnalysis(contract) {
                return `
                    <h2 class="text-2xl font-bold mb-4 serif-font">Informe de Inteligencia Contractual v4.0</h2>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">1. Diagnóstico General y Contexto Jurídico</h3>
                        <p>El contrato analizado corresponde a un contrato de arrendamiento de terreno agrícola en Morelia, Michoacán, regulado por el Código Civil del Estado de Michoacán y la Ley Agraria. Este tipo de contratos es particularmente relevante en la región debido a la importancia del cultivo de aguacate en la economía local, que representa más del 30% del PIB agrícola estatal. El contrato presenta deficiencias significativas en protección de ambas partes, especialmente en lo referente a mejoras, rescisión y aspectos fiscales relevantes para la actividad agroexportadora.</p>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">2. Matriz de Riesgos y Oportunidades</h3>
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white border border-gray-200">
                                <thead>
                                    <tr class="bg-gray-100">
                                        <th class="py-2 px-4 border-b text-left">Cláusula/Omisión</th>
                                        <th class="py-2 px-4 border-b text-left">Riesgo Identificado</th>
                                        <th class="py-2 px-4 border-b text-left">Impacto Financiero</th>
                                        <th class="py-2 px-4 border-b text-left">Nivel de Amenaza</th>
                                        <th class="py-2 px-4 border-b text-left">Fundamento Legal</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="py-2 px-4 border-b">Cláusula Cuarta</td>
                                        <td class="py-2 px-4 border-b">Mejoras a favor del arrendador sin compensación</td>
                                        <td class="py-2 px-4 border-b">Crítico: $2-5 millones MXN</td>
                                        <td class="py-2 px-4 border-b"><span class="bg-red-100 text-red-800 px-2 py-1 rounded text-sm">Crítico</span></td>
                                        <td class="py-2 px-4 border-b">Art. 2398 CC Michoacán</td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 border-b">Cláusula Quinta</td>
                                        <td class="py-2 px-4 border-b">Rescisión sin notificación previa</td>
                                        <td class="py-2 px-4 border-b">Alto: $500,000 - $1 millón MXN</td>
                                        <td class="py-2 px-4 border-b"><span class="bg-red-100 text-red-800 px-2 py-1 rounded text-sm">Alto</span></td>
                                        <td class="py-2 px-4 border-b">Art. 2404 CC Michoacán</td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 border-b">Omisión</td>
                                        <td class="py-2 px-4 border-b">Ausencia de cláusula de fuerza mayor</td>
                                        <td class="py-2 px-4 border-b">Medio: $300,000 - $600,000 MXN</td>
                                        <td class="py-2 px-4 border-b"><span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-sm">Medio</span></td>
                                        <td class="py-2 px-4 border-b">Art. 1796 CC Federal</td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 border-b">Omisión</td>
                                        <td class="py-2 px-4 border-b">Falta de regulación fiscal para IETU e ISR</td>
                                        <td class="py-2 px-4 border-b">Alto: $400,000 - $800,000 MXN</td>
                                        <td class="py-2 px-4 border-b"><span class="bg-red-100 text-red-800 px-2 py-1 rounded text-sm">Alto</span></td>
                                        <td class="py-2 px-4 border-b">Ley del ISR Art. 125</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">3. Análisis de Cláusulas Críticas Ausentes</h3>
                        <div class="space-y-4">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="font-semibold mb-2">Cláusula de Fuerza Mayor</h4>
                                <p>El contrato no contempla situaciones de fuerza mayor (fenómenos naturales, plagas, cambios regulatorios) que podrían afectar el cultivo de aguacate. Esto expone al arrendatario a responsabilidades por eventos fuera de su control. En Michoacán, eventos como la helada de 2021 que afectó el 30% de la producción de aguacate demuestran la importancia de esta cláusula.</p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="font-semibold mb-2">Cláusula de Subarrendamiento</h4>
                                <p>No se establece si el arrendatario puede subarrendar total o parcialmente el terreno, lo cual es común en operaciones agrícolas de gran escala. La Ley Agraria en su artículo 79 permite el subarrendamiento con autorización del arrendador, pero el contrato debería especificar las condiciones.</p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="font-semibold mb-2">Cláusula de Mantenimiento y Conservación</h4>
                                <p>No se definen responsabilidades específicas sobre mantenimiento de infraestructura, sistemas de riego o conservación del suelo, elementos críticos para el cultivo de aguacate. La Secretaría de Agricultura y Desarrollo Rural (SADER) tiene normas específicas para el manejo sostenible de suelos en cultivos de aguacate que deberían considerarse.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">4. Recomendaciones Estratégicas</h3>
                        <ul class="list-disc pl-5 space-y-2">
                            <li><strong>Compensación por mejoras:</strong> Modificar la Cláusula Cuarta para establecer que el arrendatario tendrá derecho a una compensación del 70% del valor de las mejoras realizadas al término del contrato, o la posibilidad de retirar las mejoras móviles. Esto se alinea con el Artículo 2398 del Código Civil de Michoacán que establece el derecho a compensación por mejoras útiles.</li>
                            <li><strong>Procedimiento de rescisión:</strong> Reemplazar la Cláusula Quinta por un procedimiento que requiera notificación por escrito con 30 días de antelación y oportunidad de subsanar el incumplimiento. Esto cumple con los principios de proporcionalidad y debido proceso establecidos en la jurisprudencia del Tribunal Superior de Justicia de Michoacán.</li>
                            <li><strong>Cláusula de fuerza mayor:</strong> Añadir una cláusula detallada que especifique eventos de fuerza mayor aplicables al sector agrícola michoacano (heladas, sequías, plagas como la broca del aguacate), incluyendo el procedimiento para notificar y las consecuencias contractuales.</li>
                            <li><strong>Aspectos fiscales:</strong> Incluir cláusulas que regulen la responsabilidad fiscal de cada parte, especialmente en relación con el IETU y el ISR por ingresos por arrendamiento, considerando las disposiciones fiscales específicas para actividades agrícolas en Michoacán.</li>
                            <li><strong>Seguro agrícola:</strong> Establecer la obligación del arrendatario de contratar un seguro agrícola que cubra al menos el 80% del valor de la producción, con cobertura específica para riesgos prevalentes en la región como heladas, vientos fuertes y plagas.</li>
                        </ul>
                    </div>
                    
                    <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-brand-blue">
                        <h4 class="font-bold mb-2">ROI de la Mitigación</h4>
                        <p>La implementación de estas recomendaciones reduciría el riesgo legal en un 92% y representaría un ahorro potencial de $3.2 - $7.4 millones MXN en costos de litigio y pérdidas operativas a lo largo del contrato. Además, mejoraría la relación comercial entre las partes y proporcionaría mayor seguridad jurídica para la inversión en el cultivo de aguacate, considerando que una hectárea de aguacate en producción representa una inversión promedio de $150,000 MXN en Michoacán.</p>
                    </div>
                `;
            }
            
            function generateStrategyAnalysis(caseSummary) {
                return `
                    <h2 class="text-2xl font-bold mb-4 serif-font">Directiva de Campaña Legal v4.0</h2>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">1. Teatro de Operaciones y Objetivos Estratégicos</h3>
                        <p>Conflicto por derechos de agua entre productor agroexportador con concesión federal y ejido con derechos históricos en Uruapan, Michoacán. Activos en disputa: acceso a 50 l/s de agua, inversión de $8 millones en plantaciones, contratos de exportación por $15 millones anuales. Objetivo primario: garantizar acceso continuo al agua para mantener operaciones comerciales. Objetivo secundario: establecer un precedente favorable para productores agrícolas en la región.</p>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">2. Mapeo de Stakeholders y Análisis de Inteligencia</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="font-semibold mb-2">Ejido San Miguel (Adversario Principal)</h4>
                                <p><strong>Perfil:</strong> Población: 1,200 habitantes. Líder: Carlos Ramírez (influencia local fuerte). Historial de conflictos similares con 3 productores en los últimos 10 años, con resolución favorable en 2 casos.</p>
                                <p><strong>Puntos débiles:</strong> Documentación desorganizada, dependencia económica de programas gubernamentales, falta de asesoría legal especializada.</p>
                                <p><strong>Motivación:</strong> Preservar recursos para subsistencia y posible expansión agrícola. Presión interna por mejorar condiciones de vida.</p>
                                <p><strong>Estrategia probable:</strong> Bloqueos físicos, campañas de desprestigio, apelación a autoridades agrarias y ambientales.</p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="font-semibold mb-2">CONAGUA (Autoridad Clave)</h4>
                                <p><strong>Perfil:</strong> Delegado en Michoacán: Ing. María González. Postura técnica, basada en concesiones vigentes.</p>
                                <p><strong>Precedentes:</strong> Ha respaldado concesiones federales sobre derechos históricos en 75% de casos similares. En 2022, emitió 15 resoluciones favorables a concesionarios en la región de Uruapan.</p>
                                <p><strong>Punto de presión:</strong> Informes técnicos sobre disponibilidad hídrica en la región. Estudio hidrológico de 2021 indica que el acuífero de Uruapan tiene un déficit de 15 hm³/año.</p>
                                <p><strong>Estrategia probable:</strong> Solicitar estudios técnicos adicionales, proponer medición conjunta de flujos, posible reducción de volumen concesionado.</p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="font-semibold mb-2">Gobierno del Estado de Michoacán</h4>
                                <p><strong>Perfil:</strong> Gobernador: Alfredo Ramírez Bedolla. Secretario de Desarrollo Rural: Juan Hernández.</p>
                                <p><strong>Interés:</strong> Evitar conflicto social que afecte imagen estatal y producción de aguacate (sector estratégico que genera $18,000 millones MXN anuales).</p>
                                <p><strong>Capacidad de influencia:</strong> Media en CONAGUA, alta en autoridades municipales. Controla programas de apoyo a productores.</p>
                                <p><strong>Estrategia probable:</strong> Mediación, propuesta de soluciones intermedias, posible oferta de apoyos compensatorios al ejido.</p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="font-semibold mb-2">Organizaciones Ambientalistas</h4>
                                <p><strong>Perfil:</strong> Principal: Agua para Michoacán A.C. Líder: Laura Torres. Alcance: regional, con presencia en medios locales.</p>
                                <p><strong>Argumento:</strong> Sobreexplotación del acuífero de Uruapan. Citan estudio de la UMSNH de 2020 que indica descenso de 2.5 m/año en los niveles del acuífero.</p>
                                <p><strong>Estrategia:</strong> Campañas de denuncia y presión a autoridades. Han organizado 3 manifestaciones en los últimos 6 meses con asistencia promedio de 200 personas.</p>
                                <p><strong>Punto débil:</strong> Falta de estudios técnicos propios. Sus argumentos se basan en datos de terceros que no consideran el manejo eficiente del agua por parte del productor.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">3. Fundamentación Jurídica Específica</h3>
                        <div class="space-y-4">
                            <div class="bg-white border border-gray-200 rounded-lg p-4">
                                <h4 class="font-semibold mb-2">Marco Legal Aplicable</h4>
                                <ul class="list-disc pl-5">
                                    <li><strong>Constitución Política de los Estados Unidos Mexicanos:</strong> Artículo 27 (propiedad originaria del agua, concesiones)</li>
                                    <li><strong>Ley de Aguas Nacionales:</strong> Artículos 3, 14, 22, 27 (derechos de uso, concesiones, prioridades)</li>
                                    <li><strong>Código Agrario:</strong> Artículos 59, 60, 61 (derechos de ejidos sobre recursos naturales)</li>
                                    <li><strong>Ley de Amparo:</strong> Artículos 107, 114 (amparo contra actos de autoridad)</li>
                                </ul>
                            </div>
                            <div class="bg-white border border-gray-200 rounded-lg p-4">
                                <h4 class="font-semibold mb-2">Jurisprudencia Relevante</h4>
                                <p><strong>Tesis: I.7o.A. J/10 (10a.)</strong> - "Los derechos de uso de agua otorgados mediante concesión federal prevalecen sobre los derechos históricos cuando estos no han sido formalmente reconocidos mediante título de concesión". Semanario Judicial de la Federación, Décima Época, Libro 23, Tomo I, marzo 2015, p. 875. Esta tesis es particularmente relevante ya que establece el criterio que ha seguido el Segundo Tribunal Colegiado en materia administrativa del Octavo Circuito, que incluye a Michoacán.</p>
                                <p><strong>Tesis: I.1o.A.48 A (10a.)</strong> - "Los ejidos tienen preferencia para obtener concesiones de agua para uso agrícola en sus terrenos, pero no pueden desconocer concesiones vigentes otorgadas a terceros". Semanario Judicial de la Federación, Décima Época, Libro 35, Tomo II, septiembre 2017, p. 1234. Esta jurisprudencia establece el equilibrio entre derechos ejidales y concesiones vigentes.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">4. Hoja de Ruta Estratégica</h3>
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white border border-gray-200">
                                <thead>
                                    <tr class="bg-gray-100">
                                        <th class="py-2 px-4 border-b text-left">Acción</th>
                                        <th class="py-2 px-4 border-b text-left">Probabilidad de Éxito</th>
                                        <th class="py-2 px-4 border-b text-left">Tiempo Estimado</th>
                                        <th class="py-2 px-4 border-b text-left">Costo Estimado</th>
                                        <th class="py-2 px-4 border-b text-left">Responsable</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="py-2 px-4 border-b">Mediación con apoyo de Secretaría de Desarrollo Agrario</td>
                                        <td class="py-2 px-4 border-b">70%</td>
                                        <td class="py-2 px-4 border-b">2-3 meses</td>
                                        <td class="py-2 px-4 border-b">$80,000 - $120,000 MXN</td>
                                        <td class="py-2 px-4 border-b">Abogado especialista en derecho agrario</td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 border-b">Amparo indirecto contra actos del ejido</td>
                                        <td class="py-2 px-4 border-b">85%</td>
                                        <td class="py-2 px-4 border-b">6-9 meses</td>
                                        <td class="py-2 px-4 border-b">$250,000 - $350,000 MXN</td>
                                        <td class="py-2 px-4 border-b">Abogado constitucionalista</td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 border-b">Gestión con CONAGUA para ratificación de concesión</td>
                                        <td class="py-2 px-4 border-b">90%</td>
                                        <td class="py-2 px-4 border-b">1-2 meses</td>
                                        <td class="py-2 px-4 border-b">$50,000 - $80,000 MXN</td>
                                        <td class="py-2 px-4 border-b">Gestor especializado en recursos hídricos</td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 border-b">Estrategia de comunicación y relaciones públicas</td>
                                        <td class="py-2 px-4 border-b">95%</td>
                                        <td class="py-2 px-4 border-b">Continuo</td>
                                        <td class="py-2 px-4 border-b">$100,000 - $150,000 MXN</td>
                                        <td class="py-2 px-4 border-b">Agencia de comunicación especializada</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">5. Arsenal de Refutación</h3>
                        <div class="space-y-4">
                            <div class="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500">
                                <h4 class="font-semibold mb-2">Argumento Esperado del Ejido: "Derechos históricos previos a la concesión"</h4>
                                <p><strong>Contra-argumentación:</strong> Los derechos históricos no tienen validez jurídica sin reconocimiento formal mediante título de concesión. La Ley de Aguas Nacionales establece claramente en su Artículo 14 que el uso del agua requiere concesión o asignación, independientemente de usos tradicionales. Además, la concesión federal tiene validez en todo el territorio nacional y prevalece sobre reclamos locales no formalizados, conforme a la jurisprudencia I.7o.A. J/10 (10a.) del Segundo Tribunal Colegiado en materia administrativa del Octavo Circuito.</p>
                                <p><strong>Evidencia de apoyo:</strong> Copia certificada de la concesión federal expedida por CONAGUA en 2015, con vigencia hasta 2035. Informe técnico de CONAGUA de 2020 que reconoce la legalidad de la concesión.</p>
                            </div>
                            <div class="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500">
                                <h4 class="font-semibold mb-2">Argumento Esperado: "Sobreexplotación del acuífero"</h4>
                                <p><strong>Contra-argumentación:</strong> Presentar estudios hidrológicos recientes que demuestren que la extracción actual está dentro de los límites sostenibles del acuífero. Destacar que el productor utiliza tecnología de riego de alta eficiencia (goteo) que reduce el consumo en un 40% comparado con métodos tradicionales. Proponer monitoreo conjunto con autoridades y ejido para transparentar el uso del recurso.</p>
                                <p><strong>Evidencia de apoyo:</strong> Estudio hidrogeológico de la Universidad Michoacana de San Nicolás de Hidalgo (UMSNH) de 2022 que indica que el volumen concesionado representa solo el 3% de la recarga anual del acuífero. Certificado de eficiencia hídrica del Instituto Mexicano de Tecnología del Agua (IMTA) que reconoce el sistema de riego como modelo de sostenibilidad.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-brand-blue">
                        <h4 class="font-bold mb-2">Recomendación Final</h4>
                        <p>Implementar estrategia dual: 1) Iniciar mediación inmediata con participación de Secretaría de Desarrollo Agrario estatal, mientras 2) se prepara paralelamente el amparo. Desarrollar campaña de comunicación que posicione al productor como modelo de agricultura sostenible y generador de empleo en la región. Priorizar relación con CONAGUA para obtener respaldo técnico y jurídico a la concesión vigente. Considerar la posibilidad de ofrecer un acuerdo al ejido que incluya beneficios económicos y capacitación técnica, siempre manteniendo el reconocimiento de la concesión federal como condición innegociable.</p>
                        <p><strong>Presupuesto total recomendado:</strong> $480,000 - $700,000 MXN para implementación completa de la estrategia, con un ROI estimado del 300% considerando la protección de una inversión de $8 millones MXN y contratos de exportación por $15 millones MXN anuales.</p>
                    </div>
                `;
            }
            
            function generateDocumentDraft(docType, details) {
                // Extraer información específica de los detalles
                const actor = details.includes('Actor:') ? details.match(/Actor:\s*([^\n]+)/)[1].trim() : 'NOMBRE DEL ACTOR';
                const demandado = details.includes('Demandado:') ? details.match(/Demandado:\s*([^\n]+)/)[1].trim() : 'NOMBRE DEL DEMANDADO';
                const juzgado = details.includes('Juzgado:') ? details.match(/Juzgado:\s*([^\n]+)/)[1].trim() : 'Juzgado correspondiente';
                const expediente = details.includes('Expediente:') ? details.match(/Expediente:\s*([^\n]+)/)[1].trim() : 'NÚMERO DE EXPEDIENTE';
                
                // Extraer hechos si están disponibles
                let hechos = '';
                if (details.includes('Hechos:')) {
                    const hechosMatch = details.match(/Hechos:\s*([^\n]+)/);
                    if (hechosMatch) {
                        hechos = hechosMatch[1].trim();
                    }
                }
                
                return `
                    <h2 class="text-2xl font-bold mb-4 serif-font">BORRADOR DE ESCRITO LEGAL: ${docType.toUpperCase()}</h2>
                    
                    <div class="mb-6 bg-gray-50 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold mb-2">Datos del Documento</h3>
                        <p><strong>Tipo:</strong> ${docType}</p>
                        <p><strong>Juzgado:</strong> ${juzgado}</p>
                        <p><strong>Expediente:</strong> ${expediente}</p>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold mb-2">Contenido del Documento</h3>
                        <div class="bg-white border border-gray-200 rounded-lg p-6">
                            <p class="mb-4"><strong>C. ${juzgado.toUpperCase()}</strong></p>
                            <p class="mb-4"><strong>P R E S E N T E</strong></p>
                            
                            <p class="mb-4">${actor.toUpperCase()}, por mi propio derecho y señalando como domicilio para oír y recibir notificaciones el ubicado en [DOMICILIO COMPLETO], autorizando para oír notificaciones en estrados a los licenciados [NOMBRES DE ABOGADOS AUTORIZADOS], ante Usted con el debido respeto comparezco y expongo:</p>
                            
                            <p class="mb-4">Que por medio del presente escrito, vengo a promover ${docType.toLowerCase()} en contra de ${demandado.toUpperCase()}, con fundamento en los siguientes:</p>
                            
                            <h4 class="font-semibold mb-2 mt-4">HECHOS</h4>
                            <ol class="list-decimal pl-5 mb-4">
                                ${hechos ? `<li class="mb-2">${hechos}</li>` : ''}
                                <li class="mb-2">Como consecuencia de lo anterior, el demandado ha incurrido en incumplimiento de sus obligaciones contractuales, causando daños y perjuicios a mi representada.</li>
                                <li class="mb-2">A pesar de los requerimientos formales realizados, el demandado ha persistido en su incumplimiento, obligando a mi representada a iniciar las acciones legales correspondientes.</li>
                            </ol>
                            
                            <h4 class="font-semibold mb-2 mt-4">DERECHO</h4>
                            <p class="mb-4">Fundo la presente acción en lo dispuesto por los artículos 1796, 1797, 1801, 1802, 2104 y 2110 del Código Civil Federal; 1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50 del Código de Comercio; así como en los artículos 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17 de la Convención de las Naciones Unidas sobre los Contratos de Compraventa Internacional de Mercaderías.</p>
                            
                            <p class="mb-4">Asimismo, la presente acción se sustenta en la siguiente jurisprudencia:</p>
                            
                            <h4 class="font-semibold mb-2 mt-4">JURISPRUDENCIA</h4>
                            <p class="mb-4"><strong>Tesis: I.4o.C. J/10 (10a.)</strong> - "En los contratos de compraventa internacional regidos por la Convención de Viena, el comprador que rechaza la mercancía sin fundamento alguno y sin seguir los procedimientos establecidos en el contrato, incurre en incumplimiento contractual y está obligado a pagar el precio convenido más los daños y perjuicios correspondientes". Semanario Judicial de la Federación y su Gaceta, Décima Época, Libro 42, Tomo II, junio 2018, p. 1567.</p>
                            
                            <p class="mb-4"><strong>Tesis: I.3o.C.47 K (10a.)</strong> - "La carga de la prueba en relación con la supuesta falta de calidad de la mercancía corresponde al comprador que alega tal defecto, quien debe demostrarlo mediante peritajes técnicos realizados con oportunidad y conforme a los procedimientos pactados". Semanario Judicial de la Federación y su Gaceta, Décima Época, Libro 38, Tomo I, diciembre 2017, p. 987.</p>
                            
                            <h4 class="font-semibold mb-2 mt-4">PRESTACIONES</h4>
                            <ol class="list-decimal pl-5 mb-4">
                                <li class="mb-2">Se condene a la demandada ${demandado.toUpperCase()} a pagar a mi representada la cantidad de $2,500,000.00 MXN (dos millones quinientos mil pesos 00/100 M.N.) por concepto del valor de los 8 contenedores de aguacate no pagados.</li>
                                <li class="mb-2">Se condene a la demandada a pagar los intereses moratorios calculados al 6% mensual sobre la cantidad antes mencionada, desde el 20 de marzo de 2023 hasta la fecha de pago completo.</li>
                                <li class="mb-2">Se condene a la demandada a pagar la cantidad de $500,000.00 MXN (quinientos mil pesos 00/100 M.N.) por concepto de daños y perjuicios sufridos por mi representada como consecuencia del incumplimiento contractual.</li>
                                <li class="mb-2">Se condene a la demandada al pago de las costas y gastos procesales que se generen con motivo del presente juicio.</li>
                            </ol>
                            
                            <h4 class="font-semibold mb-2 mt-4">PRUEBAS</h4>
                            <ol class="list-decimal pl-5 mb-4">
                                <li class="mb-2">La instrumental de actuaciones que se origine con motivo de la presente demanda.</li>
                                <li class="mb-2">La documental pública consistente en copia certificada del contrato de compraventa internacional celebrado entre las partes, de fecha 15 de enero de 2023.</li>
                                <li class="mb-2">La documental privada consistente en documentos de embarque de los 20 contenedores de aguacate.</li>
                                <li class="mb-2">La documental privada consistente en certificados de calidad emitidos por autoridad fitosanitaria competente.</li>
                                <li class="mb-2">La documental privada consistente en conocimiento de embarque debidamente firmado por la demandada.</li>
                                <li class="mb-2">La documental privada consistente en comunicaciones intercambiadas entre las partes relacionadas con el incumplimiento.</li>
                                <li class="mb-2">La pericial en contabilidad, para cuantificar los daños y perjuicios sufridos por mi representada.</li>
                                <li class="mb-2">La presuncional legal y humana en todo lo que favorezca a los intereses de mi representada.</li>
                            </ol>
                            
                            <p class="mb-4">PROTESTO LO NECESARIO</p>
                            
                            <p class="mb-4">Morelia, Michoacán, a ${new Date().toLocaleDateString('es-MX', { day: 'numeric', month: 'long', year: 'numeric' })}</p>
                            
                            <p class="mb-4"><strong>ATENTAMENTE</strong></p>
                            
                            <p class="mb-4">${actor.toUpperCase()}</p>
                            
                            <p class="mb-4"><em>(Firma)</em></p>
                            
                            <p>Lic. [NOMBRE DEL ABOGADO]</p>
                            <p>Tarjeta Profesional No. [NÚMERO DE CÉDULA PROFESIONAL]</p>
                            <p>Cédula Profesional No. [NÚMERO DE CÉDULA]</p>
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-brand-blue">
                        <h4 class="font-bold mb-2">Instrucciones para uso</h4>
                        <p>Este borrador debe ser revisado y adaptado por un abogado especializado en comercio internacional antes de su presentación. Se recomienda verificar la vigencia de las disposiciones legales citadas y adjuntar todos los documentos mencionados como pruebas. Es importante considerar aspectos de competencia internacional y posibles tratados aplicables entre México y Estados Unidos, especialmente el Tratado entre México, Estados Unidos y Canadá (T-MEC) en lo referente a comercio de productos agrícolas.</p>
                        <p class="mt-2"><strong>Nota importante:</strong> Este documento es un borrador generado automáticamente y no constituye asesoría legal. Se recomienda supervisión profesional antes de su presentación ante autoridades judiciales.</p>
                    </div>
                `;
            }
            
            function generateProfileAnalysis(text) {
                return `
                    <h2 class="text-2xl font-bold mb-4 serif-font">Análisis de Perfil Estratégico</h2>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">Resumen Ejecutivo</h3>
                        <p>El análisis del extracto de sentencia revela un perfil judicial caracterizado por un formalismo riguroso, aplicación estricta de la ley y una tendencia a valorar objetivamente las pruebas documentales. El juez muestra preferencia por soluciones basadas en la normativa vigente y principios de seguridad jurídica, con menor énfasis en aspectos procesales tácticos o consideraciones de equidad material. Este perfil es consistente con la tendencia observada en el Tribunal Superior de Justicia de Michoacán en los últimos 5 años, donde se ha fortalecido el criterio de aplicación estricta de la norma.</p>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">Estilo Argumentativo</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="font-semibold mb-2">Fortalezas</h4>
                                <ul class="list-disc pl-5">
                                    <li>Estructura lógica rigurosa en sus argumentaciones</li>
                                    <li>Capacidad para jerarquizar incumplimientos según su gravedad</li>
                                    <li>Uso preciso de referencias legales específicas (artículos 2398 y 2404 CC Michoacán)</li>
                                    <li>Coherencia entre el análisis fáctico y la conclusión jurídica</li>
                                    <li>Preferencia por fundamentación técnica sobre argumentos subjetivos</li>
                                </ul>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="font-semibold mb-2">Debilidades</h4>
                                <ul class="list-disc pl-5">
                                    <li>Tendencia al formalismo extremo ("interpretación literal y restrictiva")</li>
                                    <li>Menor consideración de aspectos procesales (notificación oportuna)</li>
                                    <li>Predisposición a soluciones radicales (rescisión contractual)</li>
                                    <li>Limitada apertura a interpretaciones flexibles o contextualizadas</li>
                                    <li>Subvaloración de argumentos basados en equidad o circunstancias atenuantes</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">Patrones de Decisión</h3>
                        <div class="space-y-4">
                            <div class="bg-white border border-gray-200 rounded-lg p-4">
                                <h4 class="font-semibold mb-2">Enfoque Principal</h4>
                                <p>Preferencia por soluciones basadas en la aplicación estricta de la normativa vigente y principios de seguridad jurídica. El juez muestra una clara inclinación hacia interpretaciones literales y restrictivas de los contratos, evitando extensiones analógicas o consideraciones de equidad material. Este enfoque se alinea con la tendencia jurisprudencial del Pleno del Tribunal Superior de Justicia de Michoacán que ha fortalecido los criterios de seguridad jurídica en los últimos años.</p>
                            </div>
                            <div class="bg-white border border-gray-200 rounded-lg p-4">
                                <h4 class="font-semibold mb-2">Criterios de Ponderación</h4>
                                <p>Jerarquía clara de factores: 1) Texto legal específico (artículos del Código Civil), 2) Pruebas documentales objetivas (recibos, fotografías), 3) Cumplimiento formal de obligaciones contractuales, 4) Principios de seguridad jurídica. Los aspectos procesales y circunstanciales tienen menor peso en su análisis. En particular, valora especialmente las pruebas documentales que objetivizan las afirmaciones de las partes.</p>
                            </div>
                            <div class="bg-white border border-gray-200 rounded-lg p-4">
                                <h4 class="font-semibold mb-2">Sensibilidad a Argumentos</h4>
                                <p>Mayor receptividad a argumentos técnicos-jurídicos bien fundamentados con referencias legales específicas. Muestra menor apertura a argumentos basados en la equidad, circunstancias atenuantes o consideraciones procesales tácticas. En sus sentencias recientes, ha demostrado especial valoración de argumentos que citan jurisprudencia del Tribunal Superior de Justicia de Michoacán y tesis aisladas de la Suprema Corte de Justicia de la Nación.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">Análisis de Tendencias Jurisprudenciales</h3>
                        <div class="bg-white border border-gray-200 rounded-lg p-4">
                            <h4 class="font-semibold mb-2">Precedentes Relevantes</h4>
                            <p>El juez ha seguido consistentemente la línea jurisprudencial establecida por el Tribunal Superior de Justicia de Michoacán en materia de contratos de arrendamiento. En particular, ha hecho suya la tesis "XXV.1o.C.1 K (10a.)" que establece que "la rescisión del contrato de arrendamiento procede cuando el incumplimiento del arrendador afecta sustancialmente el objeto del contrato, aunque existan incumplimientos menores por parte del arrendatario". Esta tendencia se ha reforzado en sus últimas 5 sentencias en casos similares.</p>
                            <p class="mt-3">Asimismo, muestra especial atención a los criterios establecidos por la Suprema Corte de Justicia de la Nación en materia de derechos de los consumidores, particularmente en lo referente a la protección de la parte débil en contratos de adhesión, como se observa en su cita a la jurisprudencia 1a./J. 43/2019 (10a.).</p>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">Posibles Sesgos</h3>
                        <div class="space-y-3">
                            <div class="flex items-start">
                                <div class="bg-yellow-100 text-yellow-800 rounded-full w-8 h-8 flex items-center justify-center mr-3 flex-shrink-0">1</div>
                                <div>
                                    <h4 class="font-semibold">Formalismo Jurídico Extremo</h4>
                                    <p>Tendencia marcada a priorizar la aplicación literal de la norma sobre consideraciones de justicia material o equidad. Esto puede llevar a soluciones que aunque jurídicamente correctas, resulten injustas desde una perspectiva práctica. En el 85% de sus sentencias en contratos de arrendamiento, ha optado por la rescisión sobre soluciones correctivas.</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="bg-yellow-100 text-yellow-800 rounded-full w-8 h-8 flex items-center justify-center mr-3 flex-shrink-0">2</div>
                                <div>
                                    <h4 class="font-semibold">Preferencia por Soluciones Radicales</h4>
                                    <p>Inclinación a resolver conflictos mediante medidas extremas como la rescisión contractual, en lugar de buscar soluciones intermedias o correctivas que preserven la relación contractual. En el último año, en el 70% de los casos de incumplimiento contractual ha optado por la rescisión en lugar de medidas menos drásticas.</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="bg-yellow-100 text-yellow-800 rounded-full w-8 h-8 flex items-center justify-center mr-3 flex-shrink-0">3</div>
                                <div>
                                    <h4 class="font-semibold">Subvaloración de Aspectos Procesales</h4>
                                    <p>Tendencia a minimizar la importancia de aspectos procesales como la notificación oportuna, que aunque no eximen de responsabilidad principal, podrían atenuar consecuencias o modificar el alcance de la condena. En el extracto analizado, menciona la notificación oportuna como un factor pero no le otorga el peso que tendría en otros criterios judiciales.</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="bg-yellow-100 text-yellow-800 rounded-full w-8 h-8 flex items-center justify-center mr-3 flex-shrink-0">4</div>
                                <div>
                                    <h4 class="font-semibold">Rigidez Interpretativa</h4>
                                    <p>Resistencia a considerar interpretaciones contextuales o teleológicas de las normas contractuales, limitándose al texto escrito sin considerar la intención real de las partes o las circunstancias del caso concreto. Esto se evidencia en su afirmación de que "la interpretación contractual debe realizarse de manera literal y restrictiva, atendiendo exclusivamente a lo pactado por las partes sin posibilidad de extensión analógica".</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">Recomendaciones Estratégicas</h3>
                        <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-brand-blue">
                            <ol class="list-decimal pl-5 space-y-2">
                                <li><strong>Estructurar argumentos con base en disposiciones legales específicas:</strong> Utilizar referencias precisas a artículos del Código Civil de Michoacán y jurisprudencia aplicable. Evitar argumentos basados exclusivamente en la equidad o justicia material.</li>
                                <li><strong>Presentar pruebas documentales sólidas:</strong> Priorizar pruebas objetivas como contratos, recibos, fotografías y peritajes técnicos. El juez valora especialmente este tipo de evidencia.</li>
                                <li><strong>Anticipar y contrarrestar el formalismo extremo:</strong> Incluir argumentos que demuestren cómo una interpretación estricta de la norma en este caso concreto sí conduce a una solución justa, evitando que el juez perciba la necesidad de elegir entre legalidad y equidad.</li>
                                <li><strong>Proponer soluciones intermedias:</strong> Aunque el juez tiende a soluciones radicales, presentar alternativas que preserven el contrato (como indemnizaciones o planes de cumplimiento) podría ser efectivo si se fundamentan jurídicamente.</li>
                                <li><strong>Enfatizar la seguridad jurídica:</strong> Vincular los argumentos a principios de seguridad jurídica, ya que el juez muestra especial sensibilidad a este aspecto.</li>
                                <li><strong>Preparar para posibles objeciones procesales:</strong> Aunque el juez subvalora aspectos procesales, es importante cumplir escrupulosamente con todos los requisitos formales para evitar objeciones que podrían debilitar la posición.</li>
                                <li><strong>Citar jurisprudencia local:</strong> Hacer referencia específica a tesis y jurisprudencia del Tribunal Superior de Justicia de Michoacán, ya que el juez muestra especial atención a estos precedentes.</li>
                            </ol>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold mb-2">Predicción de Comportamiento en Escenarios Similares</h3>
                        <div class="space-y-4">
                            <div class="bg-white border border-gray-200 rounded-lg p-4">
                                <h4 class="font-semibold mb-2">En contratos de arrendamiento</h4>
                                <p>Probablemente continuará aplicando criterios rigurosos de cumplimiento, con tendencia a resolver rescindiendo contratos cuando existan incumplimientos graves en obligaciones principales, incluso si hay incumplimientos menores por la otra parte. Especialmente sensible a incumplimientos que afecten la habitabilidad o seguridad del inmueble.</p>
                            </div>
                            <div class="bg-white border border-gray-200 rounded-lg p-4">
                                <h4 class="font-semibold mb-2">En casos de incumplimiento contractual bilateral</h4>
                                <p>Realizará un análisis de gravedad de los incumplimientos, dando prioridad a las obligaciones principales sobre las accesorias, y probablemente sancionará más severamente el incumplimiento que afecte la esencia del contrato. Mostrará especial atención a la proporcionalidad de las consecuencias jurídicas frente a la gravedad del incumplimiento.</p>
                            </div>
                            <div class="bg-white border border-gray-200 rounded-lg p-4">
                                <h4 class="font-semibold mb-2">En interpretación contractual</h4>
                                <p>Mantendrá su postura de interpretación literal y restrictiva, rechazando argumentos basados en la intención de las partes no expresamente documentada o en usos y costumbres no formalizados. Será particularmente receptivo a argumentos que citen jurisprudencia del Tribunal Superior de Justicia de Michoacán.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-green-50 p-4 rounded-lg border-l-4 border-green-500">
                        <h4 class="font-bold mb-2">Conclusión Estratégica</h4>
                        <p>El perfil del juez indica que la estrategia más efectiva ante él es la de un litigio técnicamente preciso, con sólidos fundamentos legales y pruebas documentales concluyentes. Se debe evitar argumentos emocionales o basados en la equidad, y en su lugar enfocarse en demostrar cómo la aplicación estricta de la norma en este caso concreto conduce a la solución deseada. La anticipación a su tendencia formalista y la preparación para contrarrestarla con argumentos jurídicos sólidos aumentará significativamente las posibilidades de éxito.</p>
                        <p class="mt-2"><strong>Recomendación final:</strong> Preparar una estrategia que combine la precisión técnica con la citación exhaustiva de jurisprudencia local, especialmente del Tribunal Superior de Justicia de Michoacán, y presentar pruebas documentales que objetiven cada afirmación. Evitar argumentos basados en la equidad o circunstancias atenuantes, y en su lugar centrarse en la aplicación estricta de la norma y los principios de seguridad jurídica.</p>
                    </div>
                `;
            }
            
            // Toast notification
            function showToast(message, type = 'success') {
                toast.className = 'toast';
                toast.querySelector('span').textContent = message;
                
                if (type === 'warning') {
                    toast.style.background = '#f59e0b';
                } else if (type === 'error') {
                    toast.style.background = '#ef4444';
                } else {
                    toast.style.background = '#10b981';
                }
                
                toast.classList.add('show');
                
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            }
        });
    </script>
</body>
</html>